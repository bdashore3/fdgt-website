@keyframes mote-blink {
	from {
		transform: scaleY(1);
	}

	95% {
		transform: scaleY(1);
	}

	to {
		transform: scaleY(0);
	}
}

@keyframes mote-eye-wander {
	from {
		transform: translateX(0);
	}

	90% {
		transform: translateX(0);
	}

	95% {
		transform: translateX(-10%);
	}

	to {
		transform: translateX(-10%);
	}
}

@keyframes mote-search {
	0% {
		transform:
			translate(0, 0)
			scaleX(1)
			scaleY(1);
	}

	// Jump
	10% {
		transform:
			translate(0, 0)
			scaleX(1)
			scaleY(1);
	}

	11% {
		transform:
			translate(2rem, -5rem)
			scaleX(0.9)
			scaleY(1.1);
	}

	12% {
		transform:
			translate(4rem, 0)
			scaleX(1)
			scaleY(1);
	}

	// turn
	34% {
		transform:
			translate(4rem, 0)
			scaleX(1)
			scaleY(1);
	}

	35% {
		transform:
			translate(4rem, 0)
			scaleX(-1)
			scaleY(1);
	}

	// Jump
	38% {
		transform:
			translate(4rem, 0)
			scaleX(-1)
			scaleY(1);
	}

	39% {
		transform:
			translate(2rem, -5rem)
			scaleX(-0.9)
			scaleY(1.1);
	}

	40% {
		transform:
			translate(0, 0)
			scaleX(-1)
			scaleY(1);
	}

	// Jump
	42% {
		transform:
			translate(0, 0)
			scaleX(-1)
			scaleY(1);
	}

	43% {
		transform:
			translate(-2rem, -5rem)
			scaleX(-0.9)
			scaleY(1.1);
	}

	44% {
		transform:
			translate(-4rem, 0)
			scaleX(-1)
			scaleY(1);
	}

	// Turn
	78% {
		transform:
			translate(-4rem, 0)
			scaleX(-1)
			scaleY(1);
	}

	79% {
		transform:
			translate(-4rem, 0)
			scaleX(1)
			scaleY(1);
	}

	// Jump
	82% {
		transform:
			translate(-4rem, 0)
			scaleX(1)
			scaleY(1);
	}

	83% {
		transform:
			translate(-2rem, -5rem)
			scaleX(0.9)
			scaleY(1.1);
	}

	84% {
		transform:
			translate(0, 0)
			scaleX(1)
			scaleY(1);
	}

	100% {
		transform:
			translate(0, 0)
			scaleX(1)
			scaleY(1);
	}
}

@keyframes mote-get-sad-eyes {
	0% {
		transform: translate(0, 0) scaleY(1);
	}

	10% {
		transform: translate(7%, -10%) scaleY(1);
	}

	17% {
		transform: translate(10%, -10%) scaleY(1);
	}

	20% {
		transform: translate(7%, -9%) scaleY(1);
	}

	27% {
		transform: translate(10%, -9%) scaleY(1);
	}

	30% {
		transform: translate(7%, -8%) scaleY(1);
	}

	37% {
		transform: translate(10%, -8%) scaleY(1);
	}

	40% {
		transform: translate(7%, -20%) scaleY(1.2);
	}

	60% {
		--sadness-level: 0;
		transform: translate(7%, -20%) scaleY(1.2);
	}

	100% {
		--sadness-level: 30;
		transform: translate(0, 30%) scaleY(0.6)
	}
}

#mote {
	--angriness-level: 0;
	--sadness-level: 0;

	display: inline-block;
	fill: currentColor;
	margin-right: 1rem;

	#eyes,
	#left,
	#right {
		animation-direction: alternate;
		animation-timing-function: ease-in-out;
		animation-iteration-count: infinite;
		transition-duration: 1s;
		transition-property: all;
	}

	#eyes {
		animation-duration: 5s;
		animation-name: mote-eye-wander;
		transform: translateY(0) scaleY(1);
	}

	#left,
	#right {
		animation-duration: 2.3s;
		animation-name: mote-blink;
		transform-origin: 70% 70%;
	}

	#left {
		clip-path: polygon(
			0 calc(var(--sadness-level) * 1%),
			100% calc(var(--angriness-level) * 1%),
			100% 100%,
			0 100%,
		);
	}

	#right {
		clip-path: polygon(
			0 calc(var(--angriness-level) * 1%),
			100% calc(var(--sadness-level) * 1%),
			100% 100%,
			0 100%,
		);
	}

	&[data-emotion=sad] {
		#eyes {
			animation-delay: 3s;
			animation-direction: normal;
			animation-duration: 5s;
			animation-fill-mode: forwards;
			animation-iteration-count: 1;
			animation-name: mote-get-sad-eyes;

			* {
				animation: none;
			}
		}
	}

	&[data-action=search] {
		animation-duration: 10s;
		animation-timing-function: cubic-bezier(.52,.12,.63,.94);
		animation-iteration-count: infinite;
		animation-name: mote-search;
	}
}
